.notebook {
    form[data-state] {
        --ready-display: none;
        --sending-display: none;
        --successful-display: none;
        --error-display: none;
    }
    form[data-state="ready"] {
        --ready-display: unset;
    }
    form[data-state="sending"] {
        --sending-display: unset;
    }
    form[data-state="successful"] {
        --successful-display: unset;
    }
    form[data-state="error"] {
        --error-display: unset;
    }

    .visible-if-ready {
        display: var(--ready-display);
    }
    .visible-if-sending {
        display: var(--sending-display);
    }
    .visible-if-successful {
        display: var(--successful-display);
    }
    .visible-if-error {
        display: var(--error-display);
    }

    .notebook-div {
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: stretch;
        align-content: stretch;
    }

    .notebook-button {
        flex: 0 0 auto;
    }

    .notebook-animation {
        transition: width .0s !important; // disable predefined bootstrap animation
    }
    
    .right-to-element {
        position: relative;
        display: inline-block;
        width: 0;
        vertical-align: center;
    }

    @media screen and (min-aspect-ratio: $notebook-break) {
        .notebook-container {
            width: 25vw;
            padding-left: $spacer;
            padding-bottom: $spacer;
            padding-top: $spacer;
        }

        .notebook-card {
            height: calc((100vh - #{$navbar-brand-height}) - (#{$footer-height} + ((#{$spacer} * 1.5) * 3))); // subtract 3 spacer with padding
        }

        .notebook-textarea {
            resize: none;
            align-self: stretch;
            flex: 1 1 auto;
        }
    }
    
    @media screen and (max-aspect-ratio: $notebook-break) {
        .notebook-container {
            width: 100vw;
            z-index: $zindex-fixed;
            padding: $spacer;
        }

        .notebook-card {
            height: calc(50vh - (#{$spacer} * 1.5)); // subtract spacer with padding
        }

        .notebook-textarea {
            resize: none;
            align-self: stretch;
            flex: 1 1 auto;
        }
    }
}

@media screen and (min-aspect-ratio: $notebook-break) {
    .notebook-margin {
        max-width: 75vw;
        margin-left: 25vw;
    }
}

@media screen and (max-aspect-ratio: $notebook-break) {
    .notebook-margin {
        margin-top: 50vh;
    }
}
