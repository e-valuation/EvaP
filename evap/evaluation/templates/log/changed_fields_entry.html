{% load static %}
{% load i18n %}

{{ message }}

<ul>
    {% for field_name, actions in fields.items %}
        {% for action in actions %}
            <li>
                {% if action.type == "add" %}
                    {{ action.label }} {% trans "added" %}: {{ action.items|join:", " }}
                {% elif action.type == "remove" %}
                    {{ action.label }} {% trans "removed" %}: {{ action.items|join:", " }}
                {% elif action.type == "clear" %}
                    {{ action.label }} {% trans "cleared" %}
                {% elif action.type == "delete" %}
                    {% blocktrans with label=action.label count count=action.items|length %}
                        {{ label }} was:
                    {% plural %}
                        {{ label }} were:
                    {% endblocktrans %}
                    {{ action.items|join:", " }}
                {% elif action.type == "change" %}
                    {% if action.items.0 %}
                        {{ action.label }}: {{ action.items.0 }} &#8594; {{ action.items.1 }}
                    {% else %}
                        {{ action.label }}: {{ action.items.1 }}
                    {% endif %}
                {% else %}
                    {{ action.label }} {% trans "modified" %}: {{ action.items|join:", " }}
                {% endif %}
            </li>
        {% endfor %}
    {% endfor %}
</ul>
