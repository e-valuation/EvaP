{% load static %}
{% load i18n %}

{{ message }}

<ul>
    {% for field_name, actions in fields.items %}
        {% for action in actions %}
            <li>
                {% if action.type == "add" %}
                {{ action.label}} {% trans "added" %}: {{ action.items|join:", " }}
                {% elif action.type == "remove" %}
                {{ action.label}} {% trans "removed" %}: {{ action.items|join:", " }}
                {% elif action.type == "clear" %}
                {{ action.label}} {% trans "cleared" %}
                {% elif action.type == "delete" %}
                {{ action.label}} {% trans "was" %}: {{ action.items|join:", " }}
                {% elif action.type == "change" %}
                    {% if action.items.0 %}
                    {{ action.label}} {% trans "changed" %}: {{ action.items.0 }} &#8594; {{ action.items.1 }}
                    {% else %}
                    {{ action.label}} {% trans "set" %}: {{ action.items.1 }}
                    {% endif %}
                {% else %}
                {{ action.label}} {% trans "modified" %}: {{ action.items|join:", " }}
                {% endif %}
            </li>
        {% endfor %}
    {% endfor %}
</ul>
