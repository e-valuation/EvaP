{% load static %}

<div class="modal fade" id="successMessageModal_{{ modal_id }}" tabindex="-1" role="dialog" aria-labelledby="successMessageModalLabel_{{ modal_id }}" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="successMessageModalLabel_{{ modal_id }}">{% trans 'Message sent' %}</h5>
            </div>
            <div class="modal-body">
                {% trans 'Your message was successfully sent.' %}
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="{{ modal_id }}" tabindex="-1" role="dialog" aria-labelledby="{{ modal_id }}Label" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="{{ modal_id }}Label">{{ title }}</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form id="{{ modal_id }}Form">
                <div class="modal-body">
                    {{ teaser }}
                    <div class="modal-grid">
                        <label for="{{ modal_id }}DisplayName" class="control-label my-auto pe-4 text-break">{% trans 'Display Name' %}</label>
                        <input type="text" class="form-control mx-auto" id="{{ modal_id }}DisplayName" value="{{ user.display_name }}"/>
                    </div>
                    <div class="modal-submit-group">
                        <button type="button" class="btn btn-light me-1" data-bs-dismiss="modal">{% trans 'Cancel' %}</button>
                        <button type="submit" id="{{ modal_id }}ActionButton" class="btn btn-primary ms-1">{% trans 'Save' %}</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<script type="module">
    import { EditDisplayNameModal } from "{% static 'js/edit-display-name-modal.js' %}";

    new EditDisplayNameModal("{{ modal_id }}", "{{ user.email }}").attach();
</script>
