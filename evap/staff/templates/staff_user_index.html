{% extends 'staff_base.html' %}

{% load static %}

{% block breadcrumb %}
    {{ block.super }}
    <li class="breadcrumb-item">{% trans 'Users' %}</li>
{% endblock %}

{% block content %}
    {{ block.super }}

    <div class="row mb-3">
        <div class="col">
            <div class="card h-100">
                <div class="card-body">
                    <h4 class="card-title">{% trans 'User actions' %}</h4>
                    <ul>
                        <li class=""><a href="{% url 'staff:user_list' %}" class="">{% trans 'User list' %}</a></li>
                        <li class=""><a href="{% url 'staff:user_import' %}" class="">{% trans 'Import users' %}</a></li>
                        <li class=""><a href="{% url 'staff:user_merge_selection' %}" class="">{% trans 'Merge users' %}</a></li>
                        <li class=""><a href="{% url 'staff:user_bulk_update' %}" class="">{% trans 'Bulk update users' %}</a></li>
                        <li class=""><a href="{% url 'staff:user_create' %}" class="">{% trans 'Create new user' %}</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card h-100">
                <div class="card-body">
                    <form method="POST" class="form-horizontal">
                        {% csrf_token %}
                        <h4 class="card-title">{% trans 'Search user' %}</h4>
                        {% include 'bootstrap_form.html' with form=form wide=False %}
                        <div class="text-center">                    
                            <button type="submit" class="btn btn-md btn-primary">{% trans 'Edit user' %}</button>
                        </div>
                    </form>    
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block additional_javascript %}
    <script type="module">
        import {TableGrid} from "{% static 'js/datagrid.js' %}";
        new TableGrid({
            storageKey: "user-index-data-grid",
            table: document.querySelector(".user-table"),
            searchInput: document.querySelector("input[name=search]"),
            resetSearch: document.querySelector("[data-reset=search]"),
        }).init();
    </script>
{% endblock %}
